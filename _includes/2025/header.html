<header>
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <a href="{{ '/' | relative_url }}" class="navbar-brand" aria-label="Homepage">
            <img src="{{ 'assets/2025/img/IsmarLogo.png' | relative_url }}" alt="ISMAR 2025" class="logo">
        </a>
        <button class="hamburger" id="navToggle" aria-label="Open menu" aria-expanded="false" aria-controls="primary-nav">
            <span class="hamburger-bar"></span>
            <span class="hamburger-bar"></span>
            <span class="hamburger-bar"></span>
        </button>
        <ul class="nav-links" id="primary-nav">
            {% for item in site.data["2025"].navigation %}
            {% assign has_children = item.children %}
            <li class="nav-item {% if has_children %}dropdown{% endif %}" {% if has_children %}data-has-children="true"{% endif %}>
                <a href="{{ item.url | relative_url }}" class="nav-link" {% if has_children %}aria-haspopup="true" aria-expanded="false"{% endif %}>
                    <span class="nav-text">{{ item.title }}</span>
                    {% if has_children %}<span class="arrow arrow-down" aria-hidden="true"></span>{% endif %}
                </a>
                {% if has_children %}
                <ul class="dropdown-content" role="menu">
                    {% for child in item.children %}
                    {% assign child_has_children = child.children %}
                    <li class="{% if child_has_children %}dropdown{% endif %}" {% if child_has_children %}data-has-children="true"{% endif %}>
                        <a href="{{ child.url | relative_url }}" class="nav-link" {% if child_has_children %}aria-haspopup="true" aria-expanded="false"{% endif %}>
                            <span class="nav-text">{{ child.title }}</span>
                            {% if child_has_children %}<span class="arrow arrow-right" aria-hidden="true"></span>{% endif %}
                        </a>
                        {% if child_has_children %}
                        <ul class="dropdown-content" role="menu">
                            {% for grandchild in child.children %}
                            {% assign gc_has_children = grandchild.children %}
                            <li class="{% if gc_has_children %}dropdown{% endif %}" {% if gc_has_children %}data-has-children="true"{% endif %}>
                                <a class="nav-link" href="{{ grandchild.url | relative_url }}" {% if gc_has_children %}aria-haspopup="true" aria-expanded="false"{% endif %}>
                                    <span class="nav-text">{{ grandchild.title }}</span>
                                    {% if gc_has_children %}<span class="arrow arrow-right" aria-hidden="true"></span>{% endif %}
                                </a>
                                {% if gc_has_children %}
                                <ul class="dropdown-content" role="menu">
                                    {% for ggrandchild in grandchild.children %}
                                    <li><a class="nav-link" href="{{ ggrandchild.url | relative_url }}">{{ ggrandchild.title }}</a></li>
                                    {% endfor %}
                                </ul>
                                {% endif %}
                            </li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    </nav>
</header>